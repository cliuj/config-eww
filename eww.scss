$bg:        #1a1b26;
$fg:        #c0caf5;
$accent:    #7aa2f7;
$muted:     #414868;
$bg-light:  #24283b;
$danger:    #f7768e;
$transition-default: all 0.2s ease;

* {
  all: unset;
  font-family: "JetBrainsMono Nerd Font", monospace;
  font-size: 13px;
  color: $fg;
}

// Outer container — transparent, holds the three groups
.top-bar-outer {
  background-color: transparent;
}

// Pill — rounded rectangle container for each widget group
.pill {
  background-color: $bg;
  border-radius: 12px;
  padding: 4px 8px;
}

// Layout
.layout {
  padding: 0 4px;
}

// Workspaces
.workspaces {
  .ws {
    min-width: 32px;
    min-height: 32px;
    border-radius: 999px;
    transition: $transition-default;

    // States come from xmonad via _XMONAD_LOG_N xprop:
    //   current  — focused workspace
    //   visible  — shown on another monitor but not focused
    //   hidden   — has windows but not on screen
    //   empty    — no windows at all
    &.current { background-color: darken($accent, 15%); }
    &.visible { background-color: $bg-light; }
    &.empty { color: $muted; opacity: 0.5; }
    &.urgent { color: $danger; }
    &:hover { background-color: $bg-light; }

    .ws-dot {
      min-width: 4px;
      min-height: 4px;
      border-radius: 999px;
      margin-top: 2px;

      &.populated { background-color: $fg; }
    }
  }
}

// DateTime
.datetime {
  padding: 0 10px;
  font-weight: bold;
}


// Weather
.weather {
  padding: 0 10px;

  .weather-temp { font-size: 12px; font-weight: bold; }
}

// Shared control button style
.ctrl-btn {
  min-width: 32px;
  min-height: 32px;
  border-radius: 999px;
  transition: $transition-default;

  &:hover { background-color: $bg-light; }
}

// Shared padding for icon+label button groups
.net-btn,
.vol-btn {
  padding: 0 8px 0 6px;
}

// Shared readout label style
.net-label,
.vol-label {
  font-size: 12px;
  font-weight: bold;
}

// Toggle button base
%toggle-btn-base {
  min-width: 32px;
  min-height: 32px;
  opacity: 0.4;
}

.vpn-btn {
  @extend %toggle-btn-base;
  &.vpn-on { opacity: 1; }
}

.bluetooth-btn {
  @extend %toggle-btn-base;
  &.bt-on { opacity: 1; }
}

// System info
.sysinfo-label {
  font-size: 12px;
  font-weight: bold;
  color: $muted;
}

// Volume dropdown (separate window)
.volume-dropdown {
  background-color: $bg;
  border-radius: 12px;
  padding: 8px;

  .vol-slider {
    trough {
      min-width: 8px;
      border-radius: 999px;
      background-color: $muted;

      highlight {
        border-radius: 999px;
        background-color: $accent;
      }

      slider {
        min-width: 12px;
        min-height: 12px;
        border-radius: 999px;
        background-color: $fg;
        margin: 0 -2px;
      }
    }
  }
}

// Calendar dropdown (separate window)
.calendar-dropdown {
  background-color: $bg;
  border-radius: 12px;
  padding: 20px;

  .cal {
    font-size: 16px;

    &.header,
    &.highlight {
      color: $accent;
      font-weight: bold;
    }

    &:selected {
      background-color: $accent;
      color: $bg;
      border-radius: 6px;
    }

    &:indeterminate {
      color: $muted;
    }
  }
}

// Power dropdown (separate window)
.power-dropdown {
  background-color: $bg;
  border-radius: 12px;
  padding: 6px;

  .power-item {
    padding: 4px 6px;
    border-radius: 8px;
    font-size: 13px;
    transition: $transition-default;

    &:hover { background-color: $bg-light; }
    &.poweroff:hover { color: $danger; background-color: rgba($danger, 0.15); }
  }
}
